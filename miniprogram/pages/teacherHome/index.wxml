<view class="container">
  <view class="header">
    <view class="user-info">
      <image class="avatar" src="{{userInfo.avatarUrl || '/images/default-avatar.png'}}" mode="aspectFill"></image>
      <view class="info">
        <text class="name">{{userInfo.name}}</text>
        <text class="role">è€å¸ˆ</text>
      </view>
    </view>
    <view class="stats">
      <view class="stat-item">
        <text class="num">{{classCount}}</text>
        <text class="label">ç­çº§æ•°</text>
      </view>
      <view class="stat-item">
        <text class="num">{{studentCount}}</text>
        <text class="label">å­¦ç”Ÿæ•°</text>
      </view>
    </view>
  </view>

  <view class="section-title">æˆ‘çš„ç­çº§</view>

  <view class="class-list" wx:if="{{classes.length > 0}}">
    <view class="class-card" wx:for="{{classes}}" wx:key="_id" bindtap="goToClassDetail" data-id="{{item._id}}">
      <view class="class-name">{{item.name}}</view>
      <view class="class-info">
        <text class="student-count">{{item.student_ids.length}} åå­¦ç”Ÿ</text>
        <text class="invite-code">é‚€è¯·ç : {{item.invite_code}}</text>
      </view>
      <view class="arrow">></view>
    </view>
  </view>

  <view class="empty-state" wx:else>
    <text class="empty-icon">ğŸ“š</text>
    <text class="empty-text">è¿˜æ²¡æœ‰ç­çº§</text>
    <text class="empty-desc">åˆ›å»ºç¬¬ä¸€ä¸ªç­çº§å¼€å§‹ä½¿ç”¨</text>
  </view>

  <view class="bottom-actions">
    <button class="create-btn" bindtap="showCreateClassModal">+ åˆ›å»ºç­çº§</button>
  </view>

  <!-- åˆ›å»ºç­çº§å¼¹çª— -->
  <view class="modal-mask" wx:if="{{showModal}}" bindtap="hideModal"></view>
  <view class="modal" wx:if="{{showModal}}">
    <view class="modal-title">åˆ›å»ºç­çº§</view>
    <input class="modal-input" placeholder="è¯·è¾“å…¥ç­çº§åç§°" placeholder-class="placeholder" bindinput="onClassNameInput"/>
    <view class="modal-actions">
      <button class="cancel-btn" bindtap="hideModal">å–æ¶ˆ</button>
      <button class="confirm-btn" bindtap="createClass" loading="{{creating}}">åˆ›å»º</button>
    </view>
  </view>
</view>
